Форк https://github.com/lpigeon/ros-mcp-server

Переработан функционал под специфику робота AiNex

# AiNex под управлением LLM

Превращаем робота в понятный и доступный инструмент с помощью MCP  сервера!

Ключевые обновлений

* Обновлен способ подключения к ROS.

* Добавлен голосовой агент для бесшовного управления.

* Добавлена возможность подключения любой LLM из https://together.ai/ (через voice\_agent, для тех кто не хочет общаться голосом - так же внедрили текстовую переписку и хранение истории чата через конфиг в агенте)

* MCP передает в контекст LLM созданные в родном приложении AiNex Action group файлы.

## Вам понадобятся API ключи!

Для https://together.ai/ и https://console.picovoice.ai/ (быстрая активация голосом). К счастью их можно получить бесплатно зарегистрировавшись на сайтах.

Ключи передаются через переменные окружения во время запуска.

## Быстрый старт

Запустите на роботе файл ROS/action\_groups.py для публикации актуальных действий, сначала на робота потом в docker

```bash
docker cp action_groups.py ainex:/home/ubuntu/ros_ws/src
```

Теперь на роботе или ПК разверните MCP сервер (ПК должен находиться в 1 сети с роботом или придется подключить к роботу микрофон, для этого рекомендуем ознакомиться с нашими доработками AiNex https://wiki.yandex.ru/ainex/hardware/addons/usb-fix/ https://wiki.yandex.ru/ainex/hardware/addons/mic-addon/ При необходимости поправьте ROS IP для работы по сети.

MCP общается с агентом через STDIO, поэтому достаточно вызвать голосового агента, он сам запустит сервер.

Для удобства установки пакетов используется UV

Чтобы запустить все используйте шаблоный bat fileдобавив в него ваши API ключи

```bash
set TOGETHER_API_KEY=Ваш ключ
set WAKEUP_API_KEY=Ваш ключ
uv run voice_agent.py
```

При 1 запуске установятся необходимые пакеты

Nеперь вы готовы открыть вашего робота по новому с LLM!